<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¬´ì‘ì • ëœë¤ì—¬í–‰í•˜ê¸°!</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#A2D2FC',
                        'primary-dark': '#8BB9E0',
                    }
                }
            }
        }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
</head>
<body>
<script
        src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.5/kakao.min.js"
        integrity="sha384-dok87au0gKqJdxs7msEdBPNnKSRT+/mhTVzq+qOhcL464zXwvcrpjeWvyj1kCdq6"
        crossorigin="anonymous"
></script>
<header class="page-header">
    ë¬´ì‘ì • ëœë¤ì—¬í–‰í•˜ê¸°!
    <span id="info-btn" class="float-right text-sm font-normal py-1 px-2 bg-white text-black rounded cursor-pointer">ì„¤ëª…ë³´ê¸°</span>
</header>

<main class="pb-8">
    <section class="p-4">
        <p class="text-center text-gray-600 text-sm mb-4">
            ëœë¤ìœ¼ë¡œ ì—¬í–‰ì§€ë¥¼ ì„ íƒí•´ë³´ì„¸ìš”!<br>
            ì„ íƒëœ ì§€ì—­ì— ì–´ìš¸ë¦¬ëŠ” ì½”ìŠ¤ë¿ë§Œ ì•„ë‹ˆë¼ ìˆ™ì†Œ, ì‹ë‹¹ë„ ì¶”ì²œë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </p>

        <div class="map-container relative" style="height: 400px;">
            <div id="vmap" class="absolute top-0 left-0 w-full h-full"></div>
        </div>

        <!-- í…Œë§ˆ ì„ íƒ -->
        <div class="flex flex-col md:flex-row justify-center items-start gap-4 mt-4 max-w-3xl mx-auto">
            <select id="theme-select" class="border rounded px-4 py-2 text-sm w-full md:w-60">
                <option value="random">ëª¨ë‘ ëœë¤ìœ¼ë¡œ ì¶”ì²œë°›ê¸°</option>
                <option value="region">ì§€ì—­ë³„ ì—¬í–‰ì§€ ì¶”ì²œë°›ê¸°</option>
                <option value="season">ê³„ì ˆë³„ ì—¬í–‰ì§€ ì¶”ì²œë°›ê¸°</option>
                <option value="mbti">MBTIë³„ ì¶”ì²œë°›ê¸°</option>
            </select>
            <!-- ì§€ì—­ ì„ íƒ -->
            <div id="theme-options" class="hidden flex-col gap-2 w-full md:w-60">
                <select id="region-select" class="border rounded px-4 py-2 text-sm hidden">
                    <option value="ì„œìš¸íŠ¹ë³„ì‹œ">ì„œìš¸íŠ¹ë³„ì‹œ</option>
                    <option value="ë¶€ì‚°ê´‘ì—­ì‹œ">ë¶€ì‚°ê´‘ì—­ì‹œ</option>
                    <option value="ëŒ€êµ¬ê´‘ì—­ì‹œ">ëŒ€êµ¬ê´‘ì—­ì‹œ</option>
                    <option value="ì¸ì²œê´‘ì—­ì‹œ">ì¸ì²œê´‘ì—­ì‹œ</option>
                    <option value="ê´‘ì£¼ê´‘ì—­ì‹œ">ê´‘ì£¼ê´‘ì—­ì‹œ</option>
                    <option value="ëŒ€ì „ê´‘ì—­ì‹œ">ëŒ€ì „ê´‘ì—­ì‹œ</option>
                    <option value="ìš¸ì‚°ê´‘ì—­ì‹œ">ìš¸ì‚°ê´‘ì—­ì‹œ</option>
                    <option value="ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ">ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ</option>
                    <option value="ê²½ê¸°ë„">ê²½ê¸°ë„</option>
                    <option value="ê°•ì›ë„">ê°•ì›ë„</option>
                    <option value="ì¶©ì²­ë¶ë„">ì¶©ì²­ë¶ë„</option>
                    <option value="ì¶©ì²­ë‚¨ë„">ì¶©ì²­ë‚¨ë„</option>
                    <option value="ì „ë¼ë¶ë„">ì „ë¼ë¶ë„</option>
                    <option value="ì „ë¼ë‚¨ë„">ì „ë¼ë‚¨ë„</option>
                    <option value="ê²½ìƒë¶ë„">ê²½ìƒë¶ë„</option>
                    <option value="ê²½ìƒë‚¨ë„">ê²½ìƒë‚¨ë„</option>
                    <option value="ì œì£¼íŠ¹ë³„ìì¹˜ë„">ì œì£¼íŠ¹ë³„ìì¹˜ë„</option>

                </select>
                <!-- ê³„ì ˆ ì„ íƒ -->
                <select id="season-select" class="border rounded px-4 py-2 text-sm hidden">
                    <option value="spring">ë´„</option>
                    <option value="summer">ì—¬ë¦„</option>
                    <option value="autumn">ê°€ì„</option>
                    <option value="winter">ê²¨ìš¸</option>
                </select>
                <!-- MBTI ì„ íƒ -->
                <select id="mbti-select" class="border rounded px-4 py-2 text-sm hidden">
                    <option value="INTJ">INTJ</option>
                    <option value="INTP">INTP</option>
                    <option value="ENTJ">ENTJ</option>
                    <option value="ENTP">ENTP</option>
                    <option value="INFJ">INFJ</option>
                    <option value="INFP">INFP</option>
                    <option value="ENFJ">ENFJ</option>
                    <option value="ENFP">ENFP</option>
                    <option value="ISTJ">ISTJ</option>
                    <option value="ISFJ">ISFJ</option>
                    <option value="ESTJ">ESTJ</option>
                    <option value="ESFJ">ESFJ</option>
                    <option value="ISTP">ISTP</option>
                    <option value="ISFP">ISFP</option>
                    <option value="ESTP">ESTP</option>
                    <option value="ESFP">ESFP</option>
                </select>
            </div>
        </div>

        <div class="mt-4">
            <button id="recommend-btn" class="btn btn-primary w-full py-2 text-sm max-w-md mx-auto block">
                ëœë¤ ì—¬í–‰ì§€ ì¶”ì²œ
            </button>
        </div>

        <!-- ê²°ê³¼ ì„¹ì…˜: ì²˜ìŒì—” ìˆ¨ê²¨ë‘ê³ , JSì—ì„œ ë³´ì—¬ì¤Œ -->
        <section id="result-section" class="p-4" style="display:none;">
            <p id="result-text" class="text-center font-bold mb-1">
                <!-- JSê°€ ì´ ì•ˆì„ ì±„ì›Œë„£ìŠµë‹ˆë‹¤ -->
            </p>
            <p class="text-center mb-4">
                <span id="result-course" class="font-medium"></span> í•œë²ˆ ê°€ë³´ì‹¤ë˜ìš”?
            </p>
        </section>

    <!-- íƒ­ ë²„íŠ¼ ë¶€ë¶„ -->
    <div class="tab-container mt-4">
        <div id="tab-course" class="tab active">ì—¬í–‰ì½”ìŠ¤</div>
        <div id="tab-restaurant" class="tab">ì‹ë‹¹</div>
        <div id="tab-accommodation" class="tab">ìˆ™ì†Œ</div>
    </div>


        <!-- Course List -->
        <section class="p-4">
            <section id="content-course" class="p-4">
                <div id="course-list" class="space-y-3">
                    <!-- JSê°€ ì—¬ê¸°ë¥¼ ì§€ìš°ê³  <div class="card">â€¦ë¥¼ ë™ì ìœ¼ë¡œ ì‚½ì…í•©ë‹ˆë‹¤ -->
                </div>
            </section>
        </section>
        <!-- ì‹ë‹¹ -->
        <section id="content-restaurant" class="p-4 hidden">
            <div id="restaurant-list" class="space-y-3"></div>
        </section>

        <!-- ìˆ™ì†Œ -->
        <section id="content-accommodation" class="p-4 hidden">
            <div id="accommodation-list" class="space-y-3"></div>
        </section>

        <p class="flex justify-center text-xs text-gray-500 mt-4 px-2">
            í•­ëª©ì„ í´ë¦­í•˜ë©´ ë„¤ì´ë²„ ì§€ë„ì—ì„œ ìƒì„¸ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
        </p>
    </section>

    <div class="flex justify-center">
        <a
                id="kakaotalk-sharing-btn"
                class="kakao-btn inline-flex items-center justify-center px-6 py-2 gap-2 text-center"
                href="javascript:;"
        >
            <img
                    src="https://developers.kakao.com/assets/img/about/logos/kakaotalksharing/kakaotalk_sharing_btn_medium.png"
                    alt="ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ë³´ë‚´ê¸° ë²„íŠ¼"
                    class="h-5 w-auto"
            />
            ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ê²°ê³¼ ê³µìœ í•˜ê¸°
        </a>
    </div>

    <!-- hot section -->

    <div class="w-full mx-auto px-4 py-6">
        <h3 class="text-lg font-bold text-black mb-4">ìµœê·¼ ë§ì´ ê³µìœ ëœ í•«ìŠ¤íŒŸ!ğŸ”¥ğŸ”¥</h3>
        <div id="Hotcontent-course" class="my-3"></div>
        <div id="Hotcontent-restaurant" class="my-3"></div>
        <div id="Hotcontent-accommodation" class="my-3"></div>
    </div>
    <!-- ì„¤ëª… ëª¨ë‹¬ (ì´ë¯¸ì§€ ì „ìš©) -->
    <div id="info-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 hidden">
        <div class="relative">
            <button id="modal-close-btn" class="absolute top-2 right-2 text-white text-xl font-bold z-10">
                âœ•
            </button>
            <img src="/images/img.png" alt="ì„¤ëª… ì´ë¯¸ì§€" class="max-w-full max-h-[90vh] rounded-lg shadow-lg" />
        </div>
    </div>

</main>
<footer class="footer">
    ë³¸ ì‚¬ì´íŠ¸ëŠ” í•œêµ­ê´€ê´‘ê³µì‚¬ Tour APIë¥¼ í™œìš©í•˜ì—¬ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.<br>
    Â©2025 Mujakjung. All rights reserved.
</footer>
<script defer>
    document.addEventListener('DOMContentLoaded', () => {
        const themeSelect   = document.getElementById('theme-select');
        const themeOptions  = document.getElementById('theme-options');
        const regionSelect  = document.getElementById('region-select');
        const seasonSelect  = document.getElementById('season-select');
        const mbtiSelect    = document.getElementById('mbti-select');

        function updateThemeOptions() {
            const v = themeSelect.value;
            // â€œëª¨ë‘ ëœë¤â€ ì„ íƒ ì‹œ ì»¨í…Œì´ë„ˆ ìì²´ ìˆ¨ê¸°ê¸°
            if (v === 'random') {
                themeOptions.classList.add('hidden');
            } else {
                themeOptions.classList.remove('hidden');
                // ê° ì˜µì…˜ ì…‹ì„ ëª¨ë‘ ìˆ¨ê¸´ ë’¤, ì„ íƒëœ ê²ƒë§Œ ë³´ì´ê²Œ
                regionSelect.classList.toggle('hidden', v !== 'region');
                seasonSelect.classList.toggle('hidden', v !== 'season');
                mbtiSelect.classList.toggle('hidden', v !== 'mbti');
            }
        }

        // ì„ íƒ ë³€ê²½ ê°ì§€
        themeSelect.addEventListener('change', updateThemeOptions);
        // ì´ˆê¸° ìƒíƒœ ë°˜ì˜
        updateThemeOptions();
    });
</script>
<script defer>
    document.addEventListener('DOMContentLoaded', () => {
        const infoBtn = document.getElementById('info-btn');
        const modal = document.getElementById('info-modal');
        const closeBtn = document.getElementById('modal-close-btn');

        infoBtn.addEventListener('click', () => {
            modal.classList.remove('hidden');
        });

        closeBtn.addEventListener('click', () => {
            modal.classList.add('hidden');
        });

        // ë°°ê²½ ëˆ„ë¥´ë©´ ë‹«ê¸°
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.add('hidden');
            }
        });
    });
</script>
<script src="http://map.vworld.kr/js/vworldMapInit.js.do?version=2.0&apiKey=44ADFAEA-B1BF-3BC2-8036-0F5B19914FF1"></script>
<script src="https://unpkg.com/@turf/turf@6.5.0/turf.min.js"></script>
<script th:src="@{/js/kakaoShare.js}" defer></script>
<script th:src="@{/js/hotSection.js}" defer></script>
<script th:src="@{/js/mapMarker.js}"></script>
<script th:src="@{/js/resultTap.js}"></script>

</body>
</html>
